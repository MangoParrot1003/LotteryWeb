# å­¦ç”ŸæŠ½ç­¾ç³»ç»Ÿ - ç³»ç»Ÿè®¾è®¡æ–‡æ¡£

## ğŸ“‹ æ–‡æ¡£ä¿¡æ¯

- **é¡¹ç›®åç§°**ï¼šå­¦ç”ŸæŠ½ç­¾ç³»ç»Ÿ
- **ç‰ˆæœ¬**ï¼šv1.1.0
- **æ›´æ–°æ—¥æœŸ**ï¼š2025-12-13
- **æ–‡æ¡£ä½œè€…**ï¼šKiro AI Assistant

## ğŸ¯ ç³»ç»Ÿæ¦‚è¿°

å­¦ç”ŸæŠ½ç­¾ç³»ç»Ÿæ˜¯ä¸€ä¸ªåŸºäº Web çš„éšæœºæŠ½ç­¾åº”ç”¨ï¼Œé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ã€‚ç³»ç»Ÿæ”¯æŒä»å­¦ç”Ÿæ•°æ®åº“ä¸­éšæœºæŠ½å–å­¦ç”Ÿï¼Œå¹¶æä¾›æ€§åˆ«ã€ç­çº§ç­‰å¤šç§ç­›é€‰æ¡ä»¶ã€‚

### æ ¸å¿ƒåŠŸèƒ½

1. **éšæœºæŠ½ç­¾** - å…¬å¹³éšæœºåœ°ä»å­¦ç”Ÿåº“ä¸­æŠ½å–å­¦ç”Ÿ
2. **æ¡ä»¶ç­›é€‰** - æ”¯æŒæŒ‰æ€§åˆ«ã€ç­çº§è¿›è¡Œç­›é€‰
3. **ç»Ÿè®¡å±•ç¤º** - å®æ—¶æ˜¾ç¤ºå­¦ç”Ÿæ€»æ•°ã€æ€§åˆ«åˆ†å¸ƒã€ç­çº§åˆ†å¸ƒ
4. **åŠ¨ç”»æ•ˆæœ** - æµç•…çš„æŠ½ç­¾åŠ¨ç”»ï¼Œæå‡ç”¨æˆ·ä½“éªŒ
5. **æ•°æ®ç®¡ç†** - æ”¯æŒé€šè¿‡æ•°æ®åº“å·¥å…·ç®¡ç†å­¦ç”Ÿæ•°æ®
6. **ä¼šå‘˜ç³»ç»Ÿ** - æ”¯æŒå•æ¬¡å¯¼å‡ºå’ŒåŒ…æœˆä¼šå‘˜ä¸¤ç§å¥—é¤
7. **æ•°æ®å¯¼å‡º** - æ”¯æŒå¯¼å‡ºæŠ½ç­¾å†å²ã€æŠ½å¥–è®°å½•ã€å­¦ç”Ÿåå•ï¼ˆCSVæ ¼å¼ï¼‰
8. **æ”¯ä»˜åŠŸèƒ½** - é›†æˆæ”¯ä»˜æ¨¡å—ï¼Œæ”¯æŒä¼šå‘˜è´­ä¹°

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ç”¨æˆ·æµè§ˆå™¨                          â”‚
â”‚                 http://localhost:5173                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚ HTTP/JSON
                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Vue 3 å‰ç«¯                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ç»„ä»¶å±‚ (Components)                            â”‚    â”‚
â”‚  â”‚  - StatsCard.vue (ç»Ÿè®¡å¡ç‰‡)                    â”‚    â”‚
â”‚  â”‚  - FilterPanel.vue (ç­›é€‰é¢æ¿)                  â”‚    â”‚
â”‚  â”‚  - LotteryBox.vue (æŠ½ç­¾ç›’å­)                   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ç»„åˆå¼å‡½æ•° (Composables)                       â”‚    â”‚
â”‚  â”‚  - useLottery.ts (æŠ½ç­¾é€»è¾‘)                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  API å±‚ (API)                                   â”‚    â”‚
â”‚  â”‚  - lottery.ts (API è°ƒç”¨)                       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚ RESTful API
                       â”‚ http://localhost:5000/api/lottery
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              C# ASP.NET Core åç«¯                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  æ§åˆ¶å™¨å±‚ (Controllers)                         â”‚    â”‚
â”‚  â”‚  - LotteryController.cs                        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  æœåŠ¡å±‚ (Services)                              â”‚    â”‚
â”‚  â”‚  - IStudentService.cs (æ¥å£)                   â”‚    â”‚
â”‚  â”‚  - StudentService.cs (å®ç°)                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  æ•°æ®è®¿é—®å±‚ (Data Access)                       â”‚    â”‚
â”‚  â”‚  - Dapper ORM                                  â”‚    â”‚
â”‚  â”‚  - Entity Framework Core                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚ SQL
                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  SQLite æ•°æ®åº“                           â”‚
â”‚                  students.db                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  students è¡¨                                    â”‚    â”‚
â”‚  â”‚  - id (ä¸»é”®)                                    â”‚    â”‚
â”‚  â”‚  - student_id (å­¦å·)                           â”‚    â”‚
â”‚  â”‚  - name (å§“å)                                  â”‚    â”‚
â”‚  â”‚  - gender (æ€§åˆ«)                                â”‚    â”‚
â”‚  â”‚  - major (ä¸“ä¸š)                                 â”‚    â”‚
â”‚  â”‚  - class (ç­çº§)                                 â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚  membership_records è¡¨ (v1.1.0 æ–°å¢)            â”‚    â”‚
â”‚  â”‚  - id (ä¸»é”®)                                    â”‚    â”‚
â”‚  â”‚  - user_id (ç”¨æˆ·ID)                            â”‚    â”‚
â”‚  â”‚  - membership_type (ä¼šå‘˜ç±»å‹)                   â”‚    â”‚
â”‚  â”‚  - order_no (è®¢å•å·)                           â”‚    â”‚
â”‚  â”‚  - amount (é‡‘é¢)                                â”‚    â”‚
â”‚  â”‚  - remaining_count (å‰©ä½™æ¬¡æ•°)                   â”‚    â”‚
â”‚  â”‚  - expiry_date (åˆ°æœŸæ—¥æœŸ)                       â”‚    â”‚
â”‚  â”‚  - status (çŠ¶æ€)                                â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚  draw_history è¡¨                                â”‚    â”‚
â”‚  â”‚  - id (ä¸»é”®)                                    â”‚    â”‚
â”‚  â”‚  - student_id (å­¦ç”ŸID)                         â”‚    â”‚
â”‚  â”‚  - draw_time (æŠ½ç­¾æ—¶é—´)                        â”‚    â”‚
â”‚  â”‚  - session_id (ä¼šè¯ID)                         â”‚    â”‚
â”‚  â”‚  - batch_id (æ‰¹æ¬¡ID)                           â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚  prize_draw_history è¡¨                          â”‚    â”‚
â”‚  â”‚  - id (ä¸»é”®)                                    â”‚    â”‚
â”‚  â”‚  - prize_name (å¥–é¡¹åç§°)                        â”‚    â”‚
â”‚  â”‚  - winners_list (ä¸­å¥–è€…åˆ—è¡¨)                    â”‚    â”‚
â”‚  â”‚  - draw_time (æŠ½å¥–æ—¶é—´)                        â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚  grouping_history è¡¨                            â”‚    â”‚
â”‚  â”‚  - id (ä¸»é”®)                                    â”‚    â”‚
â”‚  â”‚  - batch_id (æ‰¹æ¬¡ID)                           â”‚    â”‚
â”‚  â”‚  - group_data (åˆ†ç»„æ•°æ®)                        â”‚    â”‚
â”‚  â”‚  - created_at (åˆ›å»ºæ—¶é—´)                        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| .NET | 8.0 | è¿è¡Œæ—¶æ¡†æ¶ |
| ASP.NET Core | 8.0 | Web æ¡†æ¶ |
| Dapper | 2.1.66 | è½»é‡çº§ ORM |
| Microsoft.Data.Sqlite | 10.0.0 | SQLite æ•°æ®åº“é©±åŠ¨ |
| Swashbuckle.AspNetCore | 10.0.1 | Swagger æ–‡æ¡£ç”Ÿæˆ |

### å‰ç«¯æŠ€æœ¯

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Vue | 3.5 | å‰ç«¯æ¡†æ¶ |
| TypeScript | 5.9 | ç±»å‹ç³»ç»Ÿ |
| Vite | 7.2 | æ„å»ºå·¥å…· |
| pnpm | æœ€æ–° | åŒ…ç®¡ç†å™¨ |

### æ•°æ®åº“

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| SQLite | 3.x | åµŒå…¥å¼æ•°æ®åº“ |

## ğŸ“Š æ•°æ®åº“è®¾è®¡

### students è¡¨ç»“æ„

| å­—æ®µå | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|--------|------|------|------|
| id | INTEGER | PRIMARY KEY, AUTOINCREMENT | ä¸»é”®ID |
| serial_number | INTEGER | NULL | åºå· |
| student_id | TEXT | NOT NULL | å­¦å· |
| name | TEXT | NOT NULL | å§“å |
| gender | TEXT | NULL | æ€§åˆ«ï¼ˆç”·/å¥³ï¼‰ |
| major | TEXT | NULL | ä¸“ä¸š |
| class | TEXT | NULL | ç­çº§ |

### membership_records è¡¨ç»“æ„ï¼ˆv1.1.0 æ–°å¢ï¼‰

| å­—æ®µå | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|--------|------|------|------|
| id | INTEGER | PRIMARY KEY, AUTOINCREMENT | ä¸»é”®ID |
| user_id | TEXT | NOT NULL | ç”¨æˆ·ID |
| membership_type | TEXT | NOT NULL | ä¼šå‘˜ç±»å‹ï¼ˆsingle/monthlyï¼‰ |
| order_no | TEXT | NOT NULL | è®¢å•å· |
| amount | DECIMAL | NOT NULL | é‡‘é¢ |
| remaining_count | INTEGER | NULL | å‰©ä½™å¯¼å‡ºæ¬¡æ•° |
| expiry_date | DATETIME | NULL | åˆ°æœŸæ—¥æœŸ |
| status | TEXT | NOT NULL | çŠ¶æ€ï¼ˆactive/expiredï¼‰ |
| created_at | DATETIME | NOT NULL | åˆ›å»ºæ—¶é—´ |

### draw_history è¡¨ç»“æ„

| å­—æ®µå | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|--------|------|------|------|
| id | INTEGER | PRIMARY KEY, AUTOINCREMENT | ä¸»é”®ID |
| student_id | INTEGER | NOT NULL | å­¦ç”ŸID |
| draw_time | DATETIME | NOT NULL | æŠ½ç­¾æ—¶é—´ |
| session_id | TEXT | NULL | ä¼šè¯ID |
| batch_id | TEXT | NULL | æ‰¹æ¬¡ID |

### prize_draw_history è¡¨ç»“æ„

| å­—æ®µå | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|--------|------|------|------|
| id | INTEGER | PRIMARY KEY, AUTOINCREMENT | ä¸»é”®ID |
| prize_name | TEXT | NOT NULL | å¥–é¡¹åç§° |
| winners_list | TEXT | NOT NULL | ä¸­å¥–è€…åˆ—è¡¨ï¼ˆJSONæ ¼å¼ï¼‰ |
| draw_time | DATETIME | NOT NULL | æŠ½å¥–æ—¶é—´ |

### grouping_history è¡¨ç»“æ„

| å­—æ®µå | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|--------|------|------|------|
| id | INTEGER | PRIMARY KEY, AUTOINCREMENT | ä¸»é”®ID |
| batch_id | TEXT | NOT NULL | æ‰¹æ¬¡ID |
| group_data | TEXT | NOT NULL | åˆ†ç»„æ•°æ®ï¼ˆJSONæ ¼å¼ï¼‰ |
| created_at | DATETIME | NOT NULL | åˆ›å»ºæ—¶é—´ |

### ç´¢å¼•è®¾è®¡

```sql
-- æ€§åˆ«ç´¢å¼•ï¼ˆç”¨äºæ€§åˆ«ç­›é€‰ï¼‰
CREATE INDEX idx_gender ON students(gender);

-- ç­çº§ç´¢å¼•ï¼ˆç”¨äºç­çº§ç­›é€‰ï¼‰
CREATE INDEX idx_class ON students(class);

-- ä¼šå‘˜ç´¢å¼•ï¼ˆç”¨äºä¼šå‘˜æŸ¥è¯¢ï¼‰
CREATE INDEX idx_membership_user_id ON membership_records(user_id);
CREATE INDEX idx_membership_order_no ON membership_records(order_no);
CREATE INDEX idx_membership_status ON membership_records(status);

-- å†å²è®°å½•ç´¢å¼•
CREATE INDEX idx_draw_history_student_id ON draw_history(student_id);
CREATE INDEX idx_draw_history_draw_time ON draw_history(draw_time);
CREATE INDEX idx_draw_history_session_id ON draw_history(session_id);
```

## ğŸ”Œ API æ¥å£è®¾è®¡

### åŸºç¡€ä¿¡æ¯

- **Base URL**: `http://localhost:5000/api/lottery`
- **Content-Type**: `application/json`
- **å­—ç¬¦ç¼–ç **: UTF-8

### æ¥å£åˆ—è¡¨

#### 1. è·å–æ‰€æœ‰å­¦ç”Ÿ

**è¯·æ±‚**
```http
GET /api/lottery/students
```

**å“åº”**
```json
[
  {
    "id": 1,
    "serialNumber": 1,
    "studentId": "202412001",
    "name": "å¼ ä¸‰",
    "gender": "ç”·",
    "major": "è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯",
    "class": "25è®¡ç§‘1ç­"
  }
]
```

#### 2. è·å–å•ä¸ªå­¦ç”Ÿ

**è¯·æ±‚**
```http
GET /api/lottery/students/{id}
```

**å“åº”**
```json
{
  "id": 1,
  "serialNumber": 1,
  "studentId": "202412001",
  "name": "å¼ ä¸‰",
  "gender": "ç”·",
  "major": "è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯",
  "class": "25è®¡ç§‘1ç­"
}
```

#### 3. éšæœºæŠ½ç­¾

**è¯·æ±‚**
```http
GET /api/lottery/draw?gender=ç”·&className=25è®¡ç§‘1ç­
```

**å‚æ•°**
- `gender` (å¯é€‰): æ€§åˆ«ç­›é€‰
- `className` (å¯é€‰): ç­çº§ç­›é€‰

**å“åº”**
```json
{
  "id": 1,
  "serialNumber": 1,
  "studentId": "202412001",
  "name": "å¼ ä¸‰",
  "gender": "ç”·",
  "major": "è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯",
  "class": "25è®¡ç§‘1ç­"
}
```

#### 4. è·å–ç»Ÿè®¡ä¿¡æ¯

**è¯·æ±‚**
```http
GET /api/lottery/stats
```

**å“åº”**
```json
{
  "total": 266,
  "genderStats": [
    { "gender": "ç”·", "count": 196 },
    { "gender": "å¥³", "count": 70 }
  ],
  "classStats": [
    { "class": "25è®¡ç§‘1ç­", "count": 56 },
    { "class": "25è®¡ç§‘2ç­", "count": 55 }
  ]
}
```

#### 5. è·å–ç­çº§åˆ—è¡¨

**è¯·æ±‚**
```http
GET /api/lottery/classes
```

**å“åº”**
```json
[
  "25è®¡ç§‘1ç­",
  "25è®¡ç§‘2ç­",
  "25è®¡ç§‘3ç­",
  "25è½¯å·¥ç­"
]
```

## ğŸ¨ å‰ç«¯è®¾è®¡

### ç»„ä»¶ç»“æ„

```
App.vue (ä¸»åº”ç”¨)
â”œâ”€â”€ StatsCard.vue (ç»Ÿè®¡å¡ç‰‡)
â”‚   â”œâ”€â”€ æ€»äººæ•°æ˜¾ç¤º
â”‚   â”œâ”€â”€ æ€§åˆ«åˆ†å¸ƒ
â”‚   â””â”€â”€ ç­çº§åˆ†å¸ƒ
â”œâ”€â”€ FilterPanel.vue (ç­›é€‰é¢æ¿)
â”‚   â”œâ”€â”€ æ€§åˆ«é€‰æ‹©å™¨
â”‚   â”œâ”€â”€ ç­çº§é€‰æ‹©å™¨
â”‚   â””â”€â”€ é‡ç½®æŒ‰é’®
â””â”€â”€ LotteryBox.vue (æŠ½ç­¾ç›’å­)
    â”œâ”€â”€ æŠ½ç­¾æŒ‰é’®
    â”œâ”€â”€ ç»“æœæ˜¾ç¤º
    â””â”€â”€ åŠ¨ç”»æ•ˆæœ
```

### çŠ¶æ€ç®¡ç†

ä½¿ç”¨ Vue 3 Composition API è¿›è¡ŒçŠ¶æ€ç®¡ç†ï¼š

```typescript
// useLottery.ts
const students = ref<Student[]>([]);          // æ‰€æœ‰å­¦ç”Ÿ
const selectedStudent = ref<Student | null>(); // é€‰ä¸­çš„å­¦ç”Ÿ
const statistics = ref<Statistics | null>();   // ç»Ÿè®¡ä¿¡æ¯
const classList = ref<string[]>([]);          // ç­çº§åˆ—è¡¨
const isDrawing = ref(false);                 // æ˜¯å¦æ­£åœ¨æŠ½ç­¾
const filterGender = ref('');                 // æ€§åˆ«ç­›é€‰
const filterClass = ref('');                  // ç­çº§ç­›é€‰
```

### æ•°æ®æµ

```
ç”¨æˆ·æ“ä½œ â†’ ç»„ä»¶äº‹ä»¶ â†’ Composable å‡½æ•° â†’ API è°ƒç”¨ â†’ åç«¯å¤„ç† â†’ è¿”å›æ•°æ® â†’ æ›´æ–°çŠ¶æ€ â†’ è§†å›¾æ›´æ–°
```

## ğŸ” å®‰å…¨è®¾è®¡

### CORS é…ç½®

```csharp
builder.Services.AddCors(options =>
{
    options.AddPolicy("AllowVue", policy =>
    {
        policy.WithOrigins("http://localhost:5173", "http://localhost:5174")
              .AllowAnyHeader()
              .AllowAnyMethod();
    });
});
```

### è¾“å…¥éªŒè¯

- åç«¯å¯¹æ‰€æœ‰è¾“å…¥å‚æ•°è¿›è¡ŒéªŒè¯
- ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢é˜²æ­¢ SQL æ³¨å…¥
- Dapper è‡ªåŠ¨å¤„ç†å‚æ•°è½¬ä¹‰

## âš¡ æ€§èƒ½ä¼˜åŒ–

### åç«¯ä¼˜åŒ–

1. **ä½¿ç”¨ Dapper ORM**
   - è½»é‡çº§ï¼Œæ€§èƒ½æ¥è¿‘åŸå§‹ SQL
   - å‡å°‘å†…å­˜å ç”¨

2. **æ•°æ®åº“ç´¢å¼•**
   - ä¸ºå¸¸ç”¨æŸ¥è¯¢å­—æ®µæ·»åŠ ç´¢å¼•
   - æé«˜æŸ¥è¯¢é€Ÿåº¦

3. **å¼‚æ­¥æ“ä½œ**
   - æ‰€æœ‰æ•°æ®åº“æ“ä½œä½¿ç”¨ async/await
   - æé«˜å¹¶å‘å¤„ç†èƒ½åŠ›

### å‰ç«¯ä¼˜åŒ–

1. **ç»„ä»¶æ‡’åŠ è½½**
   - æŒ‰éœ€åŠ è½½ç»„ä»¶
   - å‡å°‘åˆå§‹åŠ è½½æ—¶é—´

2. **çŠ¶æ€ç®¡ç†**
   - ä½¿ç”¨ Composition API
   - é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“

3. **åŠ¨ç”»ä¼˜åŒ–**
   - ä½¿ç”¨ CSS åŠ¨ç”»
   - GPU åŠ é€Ÿ

## ğŸ“ å¼€å‘è§„èŒƒ

### å‘½åè§„èŒƒ

**C# åç«¯**
- ç±»åï¼šPascalCaseï¼ˆå¦‚ `StudentService`ï¼‰
- æ–¹æ³•åï¼šPascalCaseï¼ˆå¦‚ `GetStudentAsync`ï¼‰
- ç§æœ‰å­—æ®µï¼š_camelCaseï¼ˆå¦‚ `_logger`ï¼‰
- æ¥å£ï¼šI + PascalCaseï¼ˆå¦‚ `IStudentService`ï¼‰

**Vue å‰ç«¯**
- ç»„ä»¶æ–‡ä»¶ï¼šPascalCaseï¼ˆå¦‚ `StatsCard.vue`ï¼‰
- å˜é‡/å‡½æ•°ï¼šcamelCaseï¼ˆå¦‚ `selectedStudent`ï¼‰
- å¸¸é‡ï¼šUPPER_SNAKE_CASEï¼ˆå¦‚ `API_BASE`ï¼‰
- ç±»å‹æ¥å£ï¼šPascalCaseï¼ˆå¦‚ `Student`ï¼‰

### æ³¨é‡Šè§„èŒƒ

**C# åç«¯**
```csharp
/// <summary>
/// è·å–æ‰€æœ‰å­¦ç”Ÿ
/// </summary>
/// <returns>å­¦ç”Ÿåˆ—è¡¨</returns>
public async Task<IEnumerable<Student>> GetAllStudentsAsync()
```

**Vue å‰ç«¯**
```typescript
/**
 * æ‰§è¡ŒæŠ½ç­¾
 */
async function performDraw() {
  // å®ç°ä»£ç 
}
```

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### åç«¯æµ‹è¯•

1. **å•å…ƒæµ‹è¯•**
   - æµ‹è¯•æœåŠ¡å±‚é€»è¾‘
   - æµ‹è¯•æ•°æ®è®¿é—®å±‚

2. **é›†æˆæµ‹è¯•**
   - æµ‹è¯• API æ¥å£
   - æµ‹è¯•æ•°æ®åº“æ“ä½œ

3. **API æµ‹è¯•**
   - ä½¿ç”¨ Swagger UI æµ‹è¯•
   - ä½¿ç”¨ test-api.bat è„šæœ¬æµ‹è¯•

### å‰ç«¯æµ‹è¯•

1. **ç»„ä»¶æµ‹è¯•**
   - æµ‹è¯•ç»„ä»¶æ¸²æŸ“
   - æµ‹è¯•ç”¨æˆ·äº¤äº’

2. **é›†æˆæµ‹è¯•**
   - æµ‹è¯• API è°ƒç”¨
   - æµ‹è¯•æ•°æ®æµ

## ğŸ“¦ éƒ¨ç½²æ–¹æ¡ˆ

### å¼€å‘ç¯å¢ƒ

```bash
# åç«¯
cd lottery-backend
dotnet run

# å‰ç«¯
cd lottery-frontend
pnpm install
pnpm run dev
```

### ç”Ÿäº§ç¯å¢ƒ

**åç«¯éƒ¨ç½²**
```bash
cd lottery-backend
dotnet publish -c Release -o ./publish
```

**å‰ç«¯éƒ¨ç½²**
```bash
cd lottery-frontend
pnpm run build
# å°† dist ç›®å½•éƒ¨ç½²åˆ° Web æœåŠ¡å™¨
```

## ğŸ”„ ç‰ˆæœ¬å†å²

### v1.1.0 (2025-12-13)
- âœ… æ–°å¢ä¼šå‘˜ç³»ç»Ÿï¼ˆå•æ¬¡å¯¼å‡º Â¥1ï¼ŒåŒ…æœˆä¼šå‘˜ Â¥9.9/æœˆï¼‰
- âœ… å®ç°æ•°æ®å¯¼å‡ºåŠŸèƒ½ï¼ˆæ”¯æŒ CSV æ ¼å¼ï¼‰
- âœ… é›†æˆæ”¯ä»˜æ¨¡å—ï¼ˆPaymentModalï¼‰
- âœ… æ–°å¢ä¼šå‘˜æ•°æ®åº“è¡¨å’Œä»“å‚¨å±‚
- âœ… æ·»åŠ å¯¼å‡ºæƒé™éªŒè¯å’Œæ¬¡æ•°ç®¡ç†
- âœ… ä¼˜åŒ–å‰ç«¯å¯¼å‡ºé¢æ¿ç»„ä»¶
- âœ… å®Œå–„ API æ¥å£æ–‡æ¡£

### v1.0.4 (2025-12-10)
- âœ… ä¿®å¤æŠ½å¥–å†å²ä¸­å¥–è€…å§“åæ˜¾ç¤ºé—®é¢˜
- âœ… ä¼˜åŒ– JSON åºåˆ—åŒ–é…ç½®
- âœ… æé«˜å‰åç«¯æ•°æ®äº¤äº’å…¼å®¹æ€§

### v0.2.3 (2025-12-09)
- âœ… æ–°å¢å¤šå¥–é¡¹æŠ½å¥–ç³»ç»Ÿ
- âœ… å®ç°é‡‘è‰²ä¸»é¢˜ç•Œé¢
- âœ… æ·»åŠ æŠ½å¥–å†å²åŠŸèƒ½
- âœ… ä¼˜åŒ–åŠ¨ç”»æ•ˆæœ

### v0.2.2 (2025-12-07)
- âœ… ä¼˜åŒ– README æ–‡æ¡£
- âœ… å®Œå–„æœåŠ¡å™¨éƒ¨ç½²è¯´æ˜

### v0.2.1 (2025-12-06)
- âœ… å®ç°æŠ½ç­¾å†å²è®°å½•ç³»ç»Ÿ
- âœ… æ·»åŠ é˜²é‡å¤æŠ½ç­¾åŠŸèƒ½
- âœ… æ”¯æŒæ‰¹é‡æŠ½ç­¾
- âœ… é‡æ„åç«¯æ¶æ„ï¼ˆä»“å‚¨æ¨¡å¼ï¼‰
- âœ… æ–°å¢æ•°æ®åº“è¡¨ï¼ˆdraw_historyã€grouping_historyï¼‰

### v0.2.0 (2025-12-06)
- âœ… é‡æ„åç«¯ä½¿ç”¨ Dapper ORM
- âœ… æ·»åŠ  Swagger API æ–‡æ¡£
- âœ… å®Œå–„å‰ç«¯ç»„ä»¶åŒ–è®¾è®¡
- âœ… å®ç°å‰åç«¯çœŸå®ä¸²è”
- âœ… æ·»åŠ å®Œæ•´çš„ç±»å‹å®šä¹‰
- âœ… ä¼˜åŒ–ç”¨æˆ·ä½“éªŒå’ŒåŠ¨ç”»æ•ˆæœ

### v0.1.3 (2025-12-08)
- âœ… ä¿®å¤æŠ½ç­¾æŒ‰é’®æ˜¾ç¤ºé—®é¢˜
- âœ… å®ç°åˆ†ç»„å†å²æŒä¹…åŒ–

### v0.1.0 (2025-12-06)
- âœ… åˆå§‹ç‰ˆæœ¬
- âœ… åŸºç¡€æŠ½ç­¾åŠŸèƒ½
- âœ… ç®€å•çš„å‰åç«¯å®ç°

## ğŸ“š å‚è€ƒèµ„æ–™

- [ASP.NET Core æ–‡æ¡£](https://docs.microsoft.com/aspnet/core)
- [Dapper æ–‡æ¡£](https://github.com/DapperLib/Dapper)
- [Vue 3 æ–‡æ¡£](https://vuejs.org/)
- [TypeScript æ–‡æ¡£](https://www.typescriptlang.org/)
- [Swagger æ–‡æ¡£](https://swagger.io/)

---

**æ–‡æ¡£ç»´æŠ¤**ï¼šæœ¬æ–‡æ¡£éšç³»ç»Ÿæ›´æ–°è€Œæ›´æ–°ï¼Œè¯·ä¿æŒæ–‡æ¡£ä¸ä»£ç åŒæ­¥ã€‚
